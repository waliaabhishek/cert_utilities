####################################################################
[ ca ]
default_ca              = CA_default                    # The default ca section
####################################################################

####################################################################
[ CA_default ]

default_days            = 1825                          # How long to certify for
default_crl_days        = 30                            # How long before next CRL
default_md              = sha256                        # Use public key default MD
preserve                = no                            # Keep passed DN ordering
x509_extensions         = ca_extensions                 # The extensions to add to the cert
email_in_dn             = no                            # Don't concat the email in the DN
copy_extensions         = copy                          # Required to copy SANs from CSR to cert
base_dir                = .
certificate             = $base_dir/myRootCA.pem        # The CA certifcate
private_key             = $base_dir/myRootKey.pem       # The CA private key
new_certs_dir           = $base_dir/issuedCerts         # Location for new certs after signing
database                = $base_dir/issuedCerts/index.txt       # Database index file
serial                  = $base_dir/issuedCerts/serial.txt      # The current serial number
unique_subject          = no                            # Set to 'no' to allow creation of
                                                        # several certificates with same subject.
####################################################################

####################################################################
[ policy_match ]
organizationName = supplied                             # set this to match to make sure that the
                                                        # OrganizationalName should match in all
                                                        # issued certificates . Change value to
                                                        # supplied if you want to allow Org Name change
####################################################################

####################################################################
[ req ]
default_bits            = 4096
default_keyfile         = myRootCA.pem
distinguished_name      = ca_distinguished_name
x509_extensions         = ca_extensions
string_mask             = utf8only
####################################################################

####################################################################
[ ca_distinguished_name ]
countryName                     = Country Name (2 letter code)
countryName_default             = US
stateOrProvinceName             = State or Province Name (full name)
stateOrProvinceName_default     = California
localityName                    = Locality Name (eg, city)
localityName_default            = Sunnyvale
organizationName                = Organization Name (eg, company)
organizationName_default        = Walia LLC
organizationalUnitName          = Organizational Unit (eg, division)
organizationalUnitName_default  = Certificate Testing Department
commonName                      = Common Name (e.g. server FQDN or YOUR name)
commonName_default              = myRootCA
emailAddress                    = Email Address
emailAddress_default            = abhishek@abhishek.net
####################################################################

####################################################################
[ ca_extensions ]

subjectKeyIdentifier    = hash
authorityKeyIdentifier  = keyid:always, issuer
basicConstraints        = critical, CA:true
keyUsage                = keyCertSign, cRLSign
####################################################################

####################################################################
[ signing_policy ]
countryName             = optional
stateOrProvinceName     = optional
localityName            = optional
organizationName        = optional
organizationalUnitName  = optional
commonName              = supplied
emailAddress            = optional
####################################################################

####################################################################
[ signing_req ]
subjectKeyIdentifier    = hash
authorityKeyIdentifier  = keyid,issuer
basicConstraints        = CA:FALSE
keyUsage                = digitalSignature, keyEncipherment
####################################################################
